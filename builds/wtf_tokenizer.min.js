/* wtf_tokenizer v2.0.0
   github.com/niebert/wtf_tokenizer

   Tokenize mathematical expressions and citations in Wiki markdown from MediaWiki
   based on work of Spencer Kelly github.com/spencermountain/wtf_wikipedia
   designed as submodule of wtf_wikipedia - decomposition into subtasks
   Licence: MIT
*/

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).wtf_tokenizer=t()}}(function(){return function(){return function t(e,i,l){function n(a,o){if(!i[a]){if(!e[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return n(e[a][1][t]||t)},u,u.exports,t,e,i,l)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<l.length;a++)n(l[a]);return n}}()({1:[function(t,e,i){"use strict";var l=function(t){Object.defineProperty(this,"data",{enumerable:!1,value:t})},n={links:function(t){var e=this.data.links||[];if("number"==typeof t)return e[t];if("string"==typeof t){t=t.charAt(0).toUpperCase()+t.substring(1);var i=e.find(function(e){return e.page===t});return void 0===i?[]:[i]}return e},interwiki:function(t){var e=this.links().filter(function(t){return void 0!==t.wiki});return"number"==typeof t?e[t]:e},bolds:function(t){var e=[];return this.data&&this.data.fmt&&this.data.fmt.bold&&(e=this.data.fmt.bold||[]),"number"==typeof t?e[t]:e},italics:function(t){var e=[];return this.data&&this.data.fmt&&this.data.fmt.italic&&(e=this.data.fmt.italic||[]),"number"==typeof t?e[t]:e},dates:function(t){var e=[];return this.data&&this.data.dates&&(e=this.data.dates||[]),"number"==typeof t?e[t]:e}};Object.keys(n).forEach(function(t){l.prototype[t]=n[t]}),l.prototype.italic=l.prototype.italics,l.prototype.bold=l.prototype.bolds,l.prototype.plaintext=l.prototype.text,e.exports=l},{}],2:[function(t,e,i){"use strict";e.exports=function(t){var e=[],i=[],l=t.text||"";return l=(l=(l=(l=l.replace(/'''''(.{0,200}?)'''''/g,function(t,l){return e.push(l),i.push(l),l})).replace(/''''(.{0,200}?)''''/g,function(t,i){return e.push("'".concat(i,"'")),"'".concat(i,"'")})).replace(/'''(.{0,200}?)'''/g,function(t,i){return e.push(i),i})).replace(/''(.{0,200}?)''/g,function(t,e){return i.push(e),e}),t.text=l,e.length>0&&(t.fmt=t.fmt||{},t.fmt.bold=e),i.length>0&&(t.fmt=t.fmt||{},t.fmt.italic=i),t}},{}],3:[function(t,e,i){"use strict";var l=t("../lib/helpers"),n=t("./links"),r=t("./formatting"),a=t("./Sentence"),o=t("./sentence-parser"),c=t("../_data/i18n"),s=new RegExp("\\[\\[:?("+c.categories.join("|")+"):[^\\]\\]]{2,80}\\]\\]","gi"),u=function(t){return t=(t=(t=(t=(t=t.replace(s,"")).replace(/\[\[:?([^|]{1,80}?)\]\](\w{0,5})/g,"$1$2")).replace(/\[\[File:(.{2,80}?)\|([^\]]+?)\]\](\w{0,5})/g,"")).replace(/\[\[:?(.{2,80}?)\|([^\]]+?)\]\](\w{0,5})/g,"$2$3")).replace(/\[(https?|news|ftp|mailto|gopher|irc):\/\/[^\]\| ]{4,1500}([\| ].*?)?\]/g,"$2")};function _(t){var e,i={text:(e=t,e=(e=(e=u(e)).replace(/\([,;: ]*\)/g,"")).replace(/\( *(; ?)+/g,"("),e=(e=l.trim_whitespace(e)).replace(/ +\.$/,"."))},o=n(t);return o&&(i.links=o),i=r(i),new a(i)}var h=function(t){var e=o(t);return(e=e.map(_))[0]&&e[0].text()&&":"===e[0].text()[0]&&(e=e.slice(1)),e};e.exports={parseSentences:h,oneSentence:_,addSentences:function(t,e){return e.sentences=h(t),t}}},{"../_data/i18n":8,"../lib/helpers":12,"./Sentence":1,"./formatting":2,"./links":5,"./sentence-parser":6}],4:[function(t,e,i){"use strict";var l=t("../_data/languages"),n=["wiktionary","wikinews","wikibooks","wikiquote","wikisource","wikispecies","wikiversity","wikivoyage","wikipedia","wikimedia","foundation","meta","metawikipedia","w","wikt","n","b","q","s","v","voy","wmf","c","m","mw","phab","d"].reduce(function(t,e){return t[e]=!0,t},{});Object.keys(l).forEach(function(t){return n[t]=!0});e.exports=function(t){var e=t.page||"";if(-1!==e.indexOf(":")){var i=e.match(/^(.*):(.*)/);if(null===i)return t;var l=i[1]||"";if(l=l.toLowerCase(),!1===n.hasOwnProperty(l))return t;t.wiki=l,t.page=i[2]}return t}},{"../_data/languages":9}],5:[function(t,e,i){"use strict";var l=t("./interwiki"),n=/^:?(category|catégorie|Kategorie|Categoría|Categoria|Categorie|Kategoria|تصنيف|image|file|image|fichier|datei|media):/i,r=/\[(https?|news|ftp|mailto|gopher|irc)(:\/\/[^\]\| ]{4,1500})([\| ].*?)?\]/g,a=/\[\[(.{0,120}?)\]\]([a-z']+)?(\w{0,10})/gi;e.exports=function(t){var e=[];if(0!==(e=function(t,e){return e.replace(a,function(e,i,r){var a=null,o=i;if(i.match(/\|/)&&(o=(i=i.replace(/\[\[(.{2,80}?)\]\](\w{0,10})/g,"$1$2")).replace(/(.{2,60})\|.{0,200}/,"$1"),null===(a=i.replace(/.{2,60}?\|/,""))&&o.match(/\|$/)&&(a=o=o.replace(/\|$/,""))),o.match(n))return i;if(o.match(/^#/i))return i;var c={page:o};return c.page=c.page.replace(/#(.*)/,function(t,e){return c.anchor=e,""}),c=l(c),null!==a&&a!==c.page&&(c.text=a),"'s"===r&&(c.text=c.text||c.page,c.text+=r),c.page&&!1===/^[A-Z]/.test(c.page)&&(c.text||(c.text=c.page),c.page=c.page.charAt(0).toUpperCase()+c.page.substring(1)),t.push(c),i}),t}(e=function(t,e){return e.replace(r,function(e,i,l,n){return n=n||"",t.push({type:"external",site:i+l,text:n.trim()}),n}),t}(e,t),t)).length)return e}},{"./interwiki":4}],6:[function(t,e,i){"use strict";var l=t("../_data/abbreviations"),n=new RegExp("(^| )("+l.join("|")+")[.!?] ?$","i"),r=new RegExp("[ |.][A-Z].? +?$","i"),a=new RegExp("\\.\\.\\.* +?$"),o=new RegExp("[a-z][a-z]","i");e.exports=function(t){var e=[],i=[];if(!t||"string"!=typeof t||!t.match(/\w/))return e;for(var l=function(t){var e,i=t.split(/(\n+)/);return i=(i=i.filter(function(t){return t.match(/\S/)})).map(function(t){return t.split(/(\S.+?[.!?]"?)(?=\s+|$)/g)}),e=[],i.forEach(function(t){e=e.concat(t)}),e}(t),c=0;c<l.length;c++){var s=l[c];if(s&&""!==s){if(!s.match(/\S/)){if(i[i.length-1]){i[i.length-1]+=s;continue}if(l[c+1]){l[c+1]=s+l[c+1];continue}}i.push(s)}}for(var u,_=0;_<i.length;_++)i[_+1]&&((u=i[_]).match(n)||u.match(r)||u.match(a)||!1===o.test(u)||!function(t){var e=(t=t||"").split(/\[\[/)||[],i=t.split(/\]\]/)||[];if(e.length>i.length)return!1;var l=t.match(/"/g);return!(l&&l.length%2!=0&&t.length<900)}(u))?i[_+1]=i[_]+(i[_+1]||""):i[_]&&i[_].length>0&&(e.push(i[_]),i[_]="");return 0===e.length?[t]:e}},{"../_data/abbreviations":7}],7:[function(t,e,i){"use strict";e.exports=["jr","mr","mrs","ms","dr","prof","sr","sen","corp","calif","rep","gov","atty","supt","det","rev","col","gen","lt","cmdr","adm","capt","sgt","cpl","maj","dept","univ","assn","bros","inc","ltd","co","corp","arc","al","ave","blvd","cl","ct","cres","exp","rd","st","dist","mt","ft","fy","hwy","la","pd","pl","plz","tce","Ala","Ariz","Ark","Cal","Calif","Col","Colo","Conn","Del","Fed","Fla","Ga","Ida","Id","Ill","Ind","Ia","Kan","Kans","Ken","Ky","La","Me","Md","Mass","Mich","Minn","Miss","Mo","Mont","Neb","Nebr","Nev","Mex","Okla","Ok","Ore","Penna","Penn","Pa","Dak","Tenn","Tex","Ut","Vt","Va","Wash","Wis","Wisc","Wy","Wyo","USAFA","Alta","Ont","QuÔøΩ","Sask","Yuk","jan","feb","mar","apr","jun","jul","aug","sep","oct","nov","dec","sept","vs","etc","esp","llb","md","bl","phd","ma","ba","miss","misses","mister","sir","esq","mstr","lit","fl","ex","eg","sep","sept",".."]},{}],8:[function(t,e,i){"use strict";var l={files:["файл","fitxer","soubor","datei","file","archivo","پرونده","tiedosto","mynd","su'wret","fichier","bestand","датотека","dosya","fil","ファイル","चित्र"],images:["image","चित्र"],templates:["шаблён","plantilla","šablona","vorlage","template","الگو","malline","snið","shablon","modèle","sjabloon","шаблон","şablon"],categories:["катэгорыя","categoria","kategorie","category","categoría","رده","luokka","flokkur","kategoriya","catégorie","categorie","категорија","kategori","kategoria","تصنيف","श्रेणी"],redirects:["перанакіраваньне","redirect","přesměruj","weiterleitung","redirección","redireccion","تغییر_مسیر","تغییرمسیر","ohjaus","uudelleenohjaus","tilvísun","aýdaw","айдау","redirection","doorverwijzing","преусмери","преусмјери","yönlendi̇rme","yönlendi̇r","重定向","redirección","redireccion","重定向","yönlendirm?e?","تغییر_مسیر","تغییرمسیر","перанакіраваньне","yönlendirme"],specials:["спэцыяльныя","especial","speciální","spezial","special","ویژه","toiminnot","kerfissíða","arnawlı","spécial","speciaal","посебно","özel","特別"],users:["удзельнік","usuari","uživatel","benutzer","user","usuario","کاربر","käyttäjä","notandi","paydalanıwshı","utilisateur","gebruiker","корисник","kullanıcı","利用者"],disambigs:["disambig","disambiguation","dab","disamb","begriffsklärung","ujednoznacznienie","doorverwijspagina","消歧义","desambiguación","dubbelsinnig","disambigua","desambiguação","homonymie","неоднозначность","anlam ayrımı","曖昧さ回避"],infoboxes:["infobox","ficha","канадский","inligtingskas","inligtingskas3","لغة","bilgi kutusu","yerleşim bilgi kutusu","infoboks","ज्ञानसन्दूक"],sources:["references","see also","external links","further reading","notes et références","voir aussi","liens externes","参考文献","脚注","関連項目","外部リンク"]},n={};Object.keys(l).forEach(function(t){l[t].forEach(function(t){n[t]=!0})}),l.dictionary=n,void 0!==e&&e.exports&&(e.exports=l)},{}],9:[function(t,e,i){"use strict";e.exports={aa:{english_title:"Afar",direction:"ltr",local_title:"Afar"},ab:{english_title:"Abkhazian",direction:"ltr",local_title:"Аҧсуа"},af:{english_title:"Afrikaans",direction:"ltr",local_title:"Afrikaans"},ak:{english_title:"Akan",direction:"ltr",local_title:"Akana"},als:{english_title:"Alemannic",direction:"ltr",local_title:"Alemannisch"},am:{english_title:"Amharic",direction:"ltr",local_title:"አማርኛ"},an:{english_title:"Aragonese",direction:"ltr",local_title:"Aragonés"},ang:{english_title:"Anglo-Saxon",direction:"ltr",local_title:"Englisc"},ar:{english_title:"Arabic",direction:"rtl",local_title:"العربية"},arc:{english_title:"Aramaic",direction:"rtl",local_title:"ܣܘܪܬ"},as:{english_title:"Assamese",direction:"ltr",local_title:"অসমীয়া"},ast:{english_title:"Asturian",direction:"ltr",local_title:"Asturianu"},av:{english_title:"Avar",direction:"ltr",local_title:"Авар"},ay:{english_title:"Aymara",direction:"ltr",local_title:"Aymar"},az:{english_title:"Azerbaijani",direction:"ltr",local_title:"Azərbaycanca"},ba:{english_title:"Bashkir",direction:"ltr",local_title:"Башҡорт"},bar:{english_title:"Bavarian",direction:"ltr",local_title:"Boarisch"},"bat-smg":{english_title:"Samogitian",direction:"ltr",local_title:"Žemaitėška"},bcl:{english_title:"Bikol",direction:"ltr",local_title:"Bikol"},be:{english_title:"Belarusian",direction:"ltr",local_title:"Беларуская"},"be-x-old":{english_title:"Belarusian",direction:"(Taraškievica)",local_title:"ltr"},bg:{english_title:"Bulgarian",direction:"ltr",local_title:"Български"},bh:{english_title:"Bihari",direction:"ltr",local_title:"भोजपुरी"},bi:{english_title:"Bislama",direction:"ltr",local_title:"Bislama"},bm:{english_title:"Bambara",direction:"ltr",local_title:"Bamanankan"},bn:{english_title:"Bengali",direction:"ltr",local_title:"বাংলা"},bo:{english_title:"Tibetan",direction:"ltr",local_title:"བོད་ཡིག"},bpy:{english_title:"Bishnupriya",direction:"Manipuri",local_title:"ltr"},br:{english_title:"Breton",direction:"ltr",local_title:"Brezhoneg"},bs:{english_title:"Bosnian",direction:"ltr",local_title:"Bosanski"},bug:{english_title:"Buginese",direction:"ltr",local_title:"ᨅᨔ"},bxr:{english_title:"Buriat",direction:"(Russia)",local_title:"ltr"},ca:{english_title:"Catalan",direction:"ltr",local_title:"Català"},cdo:{english_title:"Min",direction:"Dong",local_title:"Chinese"},ce:{english_title:"Chechen",direction:"ltr",local_title:"Нохчийн"},ceb:{english_title:"Cebuano",direction:"ltr",local_title:"Sinugboanong"},ch:{english_title:"Chamorro",direction:"ltr",local_title:"Chamoru"},cho:{english_title:"Choctaw",direction:"ltr",local_title:"Choctaw"},chr:{english_title:"Cherokee",direction:"ltr",local_title:"ᏣᎳᎩ"},chy:{english_title:"Cheyenne",direction:"ltr",local_title:"Tsetsêhestâhese"},co:{english_title:"Corsican",direction:"ltr",local_title:"Corsu"},cr:{english_title:"Cree",direction:"ltr",local_title:"Nehiyaw"},cs:{english_title:"Czech",direction:"ltr",local_title:"Česky"},csb:{english_title:"Kashubian",direction:"ltr",local_title:"Kaszëbsczi"},cu:{english_title:"Old",direction:"Church",local_title:"Slavonic"},cv:{english_title:"Chuvash",direction:"ltr",local_title:"Чăваш"},cy:{english_title:"Welsh",direction:"ltr",local_title:"Cymraeg"},da:{english_title:"Danish",direction:"ltr",local_title:"Dansk"},de:{english_title:"German",direction:"ltr",local_title:"Deutsch"},diq:{english_title:"Dimli",direction:"ltr",local_title:"Zazaki"},dsb:{english_title:"Lower",direction:"Sorbian",local_title:"ltr"},dv:{english_title:"Divehi",direction:"rtl",local_title:"ދިވެހިބަސް"},dz:{english_title:"Dzongkha",direction:"ltr",local_title:"ཇོང་ཁ"},ee:{english_title:"Ewe",direction:"ltr",local_title:"Ɛʋɛ"},far:{english_title:"Farsi",direction:"ltr",local_title:"فارسی"},el:{english_title:"Greek",direction:"ltr",local_title:"Ελληνικά"},en:{english_title:"English",direction:"ltr",local_title:"English"},eo:{english_title:"Esperanto",direction:"ltr",local_title:"Esperanto"},es:{english_title:"Spanish",direction:"ltr",local_title:"Español"},et:{english_title:"Estonian",direction:"ltr",local_title:"Eesti"},eu:{english_title:"Basque",direction:"ltr",local_title:"Euskara"},ext:{english_title:"Extremaduran",direction:"ltr",local_title:"Estremeñu"},ff:{english_title:"Peul",direction:"ltr",local_title:"Fulfulde"},fi:{english_title:"Finnish",direction:"ltr",local_title:"Suomi"},"fiu-vro":{english_title:"Võro",direction:"ltr",local_title:"Võro"},fj:{english_title:"Fijian",direction:"ltr",local_title:"Na"},fo:{english_title:"Faroese",direction:"ltr",local_title:"Føroyskt"},fr:{english_title:"French",direction:"ltr",local_title:"Français"},frp:{english_title:"Arpitan",direction:"ltr",local_title:"Arpitan"},fur:{english_title:"Friulian",direction:"ltr",local_title:"Furlan"},fy:{english_title:"West",direction:"Frisian",local_title:"ltr"},ga:{english_title:"Irish",direction:"ltr",local_title:"Gaeilge"},gan:{english_title:"Gan",direction:"Chinese",local_title:"ltr"},gd:{english_title:"Scottish",direction:"Gaelic",local_title:"ltr"},gil:{english_title:"Gilbertese",direction:"ltr",local_title:"Taetae"},gl:{english_title:"Galician",direction:"ltr",local_title:"Galego"},gn:{english_title:"Guarani",direction:"ltr",local_title:"Avañe'ẽ"},got:{english_title:"Gothic",direction:"ltr",local_title:"gutisk"},gu:{english_title:"Gujarati",direction:"ltr",local_title:"ગુજરાતી"},gv:{english_title:"Manx",direction:"ltr",local_title:"Gaelg"},ha:{english_title:"Hausa",direction:"rtl",local_title:"هَوُسَ"},hak:{english_title:"Hakka",direction:"Chinese",local_title:"ltr"},haw:{english_title:"Hawaiian",direction:"ltr",local_title:"Hawai`i"},he:{english_title:"Hebrew",direction:"rtl",local_title:"עברית"},hi:{english_title:"Hindi",direction:"ltr",local_title:"हिन्दी"},ho:{english_title:"Hiri",direction:"Motu",local_title:"ltr"},hr:{english_title:"Croatian",direction:"ltr",local_title:"Hrvatski"},ht:{english_title:"Haitian",direction:"ltr",local_title:"Krèyol"},hu:{english_title:"Hungarian",direction:"ltr",local_title:"Magyar"},hy:{english_title:"Armenian",direction:"ltr",local_title:"Հայերեն"},hz:{english_title:"Herero",direction:"ltr",local_title:"Otsiherero"},ia:{english_title:"Interlingua",direction:"ltr",local_title:"Interlingua"},id:{english_title:"Indonesian",direction:"ltr",local_title:"Bahasa"},ie:{english_title:"Interlingue",direction:"ltr",local_title:"Interlingue"},ig:{english_title:"Igbo",direction:"ltr",local_title:"Igbo"},ii:{english_title:"Sichuan",direction:"Yi",local_title:"ltr"},ik:{english_title:"Inupiak",direction:"ltr",local_title:"Iñupiak"},ilo:{english_title:"Ilokano",direction:"ltr",local_title:"Ilokano"},io:{english_title:"Ido",direction:"ltr",local_title:"Ido"},is:{english_title:"Icelandic",direction:"ltr",local_title:"Íslenska"},it:{english_title:"Italian",direction:"ltr",local_title:"Italiano"},iu:{english_title:"Inuktitut",direction:"ltr",local_title:"ᐃᓄᒃᑎᑐᑦ"},ja:{english_title:"Japanese",direction:"ltr",local_title:"日本語"},jbo:{english_title:"Lojban",direction:"ltr",local_title:"Lojban"},jv:{english_title:"Javanese",direction:"ltr",local_title:"Basa"},ka:{english_title:"Georgian",direction:"ltr",local_title:"ქართული"},kg:{english_title:"Kongo",direction:"ltr",local_title:"KiKongo"},ki:{english_title:"Kikuyu",direction:"ltr",local_title:"Gĩkũyũ"},kj:{english_title:"Kuanyama",direction:"ltr",local_title:"Kuanyama"},kk:{english_title:"Kazakh",direction:"ltr",local_title:"Қазақша"},kl:{english_title:"Greenlandic",direction:"ltr",local_title:"Kalaallisut"},km:{english_title:"Cambodian",direction:"ltr",local_title:"ភាសាខ្មែរ"},kn:{english_title:"Kannada",direction:"ltr",local_title:"ಕನ್ನಡ"},khw:{english_title:"Khowar",direction:"rtl",local_title:"کھوار"},ko:{english_title:"Korean",direction:"ltr",local_title:"한국어"},kr:{english_title:"Kanuri",direction:"ltr",local_title:"Kanuri"},ks:{english_title:"Kashmiri",direction:"rtl",local_title:"कश्मीरी"},ksh:{english_title:"Ripuarian",direction:"ltr",local_title:"Ripoarisch"},ku:{english_title:"Kurdish",direction:"rtl",local_title:"Kurdî"},kv:{english_title:"Komi",direction:"ltr",local_title:"Коми"},kw:{english_title:"Cornish",direction:"ltr",local_title:"Kernewek"},ky:{english_title:"Kirghiz",direction:"ltr",local_title:"Kırgızca"},la:{english_title:"Latin",direction:"ltr",local_title:"Latina"},lad:{english_title:"Ladino",direction:"ltr",local_title:"Dzhudezmo"},lan:{english_title:"Lango",direction:"ltr",local_title:"Leb"},lb:{english_title:"Luxembourgish",direction:"ltr",local_title:"Lëtzebuergesch"},lg:{english_title:"Ganda",direction:"ltr",local_title:"Luganda"},li:{english_title:"Limburgian",direction:"ltr",local_title:"Limburgs"},lij:{english_title:"Ligurian",direction:"ltr",local_title:"Líguru"},lmo:{english_title:"Lombard",direction:"ltr",local_title:"Lumbaart"},ln:{english_title:"Lingala",direction:"ltr",local_title:"Lingála"},lo:{english_title:"Laotian",direction:"ltr",local_title:"ລາວ"},lt:{english_title:"Lithuanian",direction:"ltr",local_title:"Lietuvių"},lv:{english_title:"Latvian",direction:"ltr",local_title:"Latviešu"},"map-bms":{english_title:"Banyumasan",direction:"ltr",local_title:"Basa"},mg:{english_title:"Malagasy",direction:"ltr",local_title:"Malagasy"},man:{english_title:"Mandarin",direction:"ltr",local_title:"官話"},mh:{english_title:"Marshallese",direction:"ltr",local_title:"Kajin"},mi:{english_title:"Maori",direction:"ltr",local_title:"Māori"},min:{english_title:"Minangkabau",direction:"ltr",local_title:"Minangkabau"},mk:{english_title:"Macedonian",direction:"ltr",local_title:"Македонски"},ml:{english_title:"Malayalam",direction:"ltr",local_title:"മലയാളം"},mn:{english_title:"Mongolian",direction:"ltr",local_title:"Монгол"},mo:{english_title:"Moldovan",direction:"ltr",local_title:"Moldovenească"},mr:{english_title:"Marathi",direction:"ltr",local_title:"मराठी"},ms:{english_title:"Malay",direction:"ltr",local_title:"Bahasa"},mt:{english_title:"Maltese",direction:"ltr",local_title:"bil-Malti"},mus:{english_title:"Creek",direction:"ltr",local_title:"Muskogee"},my:{english_title:"Burmese",direction:"ltr",local_title:"Myanmasa"},na:{english_title:"Nauruan",direction:"ltr",local_title:"Dorerin"},nah:{english_title:"Nahuatl",direction:"ltr",local_title:"Nahuatl"},nap:{english_title:"Neapolitan",direction:"ltr",local_title:"Nnapulitano"},nd:{english_title:"North",direction:"Ndebele",local_title:"ltr"},nds:{english_title:"Low German",direction:"ltr",local_title:"Plattdüütsch"},"nds-nl":{english_title:"Dutch",direction:"Low",local_title:"Saxon"},ne:{english_title:"Nepali",direction:"ltr",local_title:"नेपाली"},new:{english_title:"Newar",direction:"ltr",local_title:"नेपालभाषा"},ng:{english_title:"Ndonga",direction:"ltr",local_title:"Oshiwambo"},nl:{english_title:"Dutch",direction:"ltr",local_title:"Nederlands"},nn:{english_title:"Norwegian",direction:"Nynorsk",local_title:"ltr"},no:{english_title:"Norwegian",direction:"ltr",local_title:"Norsk"},nr:{english_title:"South",direction:"Ndebele",local_title:"ltr"},nso:{english_title:"Northern",direction:"Sotho",local_title:"ltr"},nrm:{english_title:"Norman",direction:"ltr",local_title:"Nouormand"},nv:{english_title:"Navajo",direction:"ltr",local_title:"Diné"},ny:{english_title:"Chichewa",direction:"ltr",local_title:"Chi-Chewa"},oc:{english_title:"Occitan",direction:"ltr",local_title:"Occitan"},oj:{english_title:"Ojibwa",direction:"ltr",local_title:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},om:{english_title:"Oromo",direction:"ltr",local_title:"Oromoo"},or:{english_title:"Oriya",direction:"ltr",local_title:"ଓଡ଼ିଆ"},os:{english_title:"Ossetian",direction:"ltr",local_title:"Иронау"},pa:{english_title:"Panjabi",direction:"ltr",local_title:"ਪੰਜਾਬੀ"},pag:{english_title:"Pangasinan",direction:"ltr",local_title:"Pangasinan"},pam:{english_title:"Kapampangan",direction:"ltr",local_title:"Kapampangan"},pap:{english_title:"Papiamentu",direction:"ltr",local_title:"Papiamentu"},pdc:{english_title:"Pennsylvania",direction:"German",local_title:"ltr"},pi:{english_title:"Pali",direction:"ltr",local_title:"Pāli"},pih:{english_title:"Norfolk",direction:"ltr",local_title:"Norfuk"},pl:{english_title:"Polish",direction:"ltr",local_title:"Polski"},pms:{english_title:"Piedmontese",direction:"ltr",local_title:"Piemontèis"},ps:{english_title:"Pashto",direction:"rtl",local_title:"پښتو"},pt:{english_title:"Portuguese",direction:"ltr",local_title:"Português"},qu:{english_title:"Quechua",direction:"ltr",local_title:"Runa"},rm:{english_title:"Raeto",direction:"Romance",local_title:"ltr"},rmy:{english_title:"Romani",direction:"ltr",local_title:"Romani"},rn:{english_title:"Kirundi",direction:"ltr",local_title:"Kirundi"},ro:{english_title:"Romanian",direction:"ltr",local_title:"Română"},"roa-rup":{english_title:"Aromanian",direction:"ltr",local_title:"Armâneashti"},ru:{english_title:"Russian",direction:"ltr",local_title:"Русский"},rw:{english_title:"Rwandi",direction:"ltr",local_title:"Kinyarwandi"},sa:{english_title:"Sanskrit",direction:"ltr",local_title:"संस्कृतम्"},sc:{english_title:"Sardinian",direction:"ltr",local_title:"Sardu"},scn:{english_title:"Sicilian",direction:"ltr",local_title:"Sicilianu"},sco:{english_title:"Scots",direction:"ltr",local_title:"Scots"},sd:{english_title:"Sindhi",direction:"ltr",local_title:"सिनधि"},se:{english_title:"Northern",direction:"Sami",local_title:"ltr"},sg:{english_title:"Sango",direction:"ltr",local_title:"Sängö"},sh:{english_title:"Serbo-Croatian",direction:"ltr",local_title:"Srpskohrvatski"},si:{english_title:"Sinhalese",direction:"ltr",local_title:"සිංහල"},simple:{english_title:"Simple",direction:"English",local_title:"ltr"},sk:{english_title:"Slovak",direction:"ltr",local_title:"Slovenčina"},sl:{english_title:"Slovenian",direction:"ltr",local_title:"Slovenščina"},sm:{english_title:"Samoan",direction:"ltr",local_title:"Gagana"},sn:{english_title:"Shona",direction:"ltr",local_title:"chiShona"},so:{english_title:"Somalia",direction:"ltr",local_title:"Soomaaliga"},sq:{english_title:"Albanian",direction:"ltr",local_title:"Shqip"},sr:{english_title:"Serbian",direction:"ltr",local_title:"Српски"},ss:{english_title:"Swati",direction:"ltr",local_title:"SiSwati"},st:{english_title:"Southern",direction:"Sotho",local_title:"ltr"},su:{english_title:"Sundanese",direction:"ltr",local_title:"Basa"},sv:{english_title:"Swedish",direction:"ltr",local_title:"Svenska"},sw:{english_title:"Swahili",direction:"ltr",local_title:"Kiswahili"},ta:{english_title:"Tamil",direction:"ltr",local_title:"தமிழ்"},te:{english_title:"Telugu",direction:"ltr",local_title:"తెలుగు"},tet:{english_title:"Tetum",direction:"ltr",local_title:"Tetun"},tg:{english_title:"Tajik",direction:"ltr",local_title:"Тоҷикӣ"},th:{english_title:"Thai",direction:"ltr",local_title:"ไทย"},ti:{english_title:"Tigrinya",direction:"ltr",local_title:"ትግርኛ"},tk:{english_title:"Turkmen",direction:"ltr",local_title:"Туркмен"},tl:{english_title:"Tagalog",direction:"ltr",local_title:"Tagalog"},tlh:{english_title:"Klingon",direction:"ltr",local_title:"tlhIngan-Hol"},tn:{english_title:"Tswana",direction:"ltr",local_title:"Setswana"},to:{english_title:"Tonga",direction:"ltr",local_title:"Lea"},tpi:{english_title:"Tok",direction:"Pisin",local_title:"ltr"},tr:{english_title:"Turkish",direction:"ltr",local_title:"Türkçe"},ts:{english_title:"Tsonga",direction:"ltr",local_title:"Xitsonga"},tt:{english_title:"Tatar",direction:"ltr",local_title:"Tatarça"},tum:{english_title:"Tumbuka",direction:"ltr",local_title:"chiTumbuka"},tw:{english_title:"Twi",direction:"ltr",local_title:"Twi"},ty:{english_title:"Tahitian",direction:"ltr",local_title:"Reo"},udm:{english_title:"Udmurt",direction:"ltr",local_title:"Удмурт"},ug:{english_title:"Uyghur",direction:"ltr",local_title:"Uyƣurqə"},uk:{english_title:"Ukrainian",direction:"ltr",local_title:"Українська"},ur:{english_title:"Urdu",direction:"rtl",local_title:"اردو"},uz:{english_title:"Uzbek",direction:"ltr",local_title:"Ўзбек"},ve:{english_title:"Venda",direction:"ltr",local_title:"Tshivenḓa"},vi:{english_title:"Vietnamese",direction:"ltr",local_title:"Việtnam"},vec:{english_title:"Venetian",direction:"ltr",local_title:"Vèneto"},vls:{english_title:"West",direction:"Flemish",local_title:"ltr"},vo:{english_title:"Volapük",direction:"ltr",local_title:"Volapük"},wa:{english_title:"Walloon",direction:"ltr",local_title:"Walon"},war:{english_title:"Waray-Waray",direction:"ltr",local_title:"Winaray"},wo:{english_title:"Wolof",direction:"ltr",local_title:"Wollof"},xal:{english_title:"Kalmyk",direction:"ltr",local_title:"Хальмг"},xh:{english_title:"Xhosa",direction:"ltr",local_title:"isiXhosa"},yi:{english_title:"Yiddish",direction:"rtl",local_title:"ייִדיש"},yo:{english_title:"Yoruba",direction:"ltr",local_title:"Yorùbá"},za:{english_title:"Zhuang",direction:"ltr",local_title:"Cuengh"},zh:{english_title:"Chinese",direction:"ltr",local_title:"中文"},"zh-classical":{english_title:"Classical",direction:"Chinese",local_title:"ltr"},"zh-min-nan":{english_title:"Minnan",direction:"ltr",local_title:"Bân-lâm-gú"},"zh-yue":{english_title:"Cantonese",direction:"ltr",local_title:"粵語"},zu:{english_title:"Zulu",direction:"ltr",local_title:"isiZulu"}}},{}],10:[function(t,e,i){"use strict";e.exports="2.0.0"},{}],11:[function(t,e,i){"use strict";var l=t("./lib/parseWiki"),n=t("./token4math"),r=t("./token4citation"),a=(t("./lib/setDefaults").getParserOptions,t("./_version.js")),o=function(t,e,i){return parseDocument(t,e,i)};o.math=t("./token4math.js"),o.citation=t("./token4citation.js"),o.parse=function(t,e,i,n){parseDocument(t,e,i);return n&&(t=n(t,e,i)),e.wiki=t,l(t,e,i,n)},o.check_call=function(t,e,i,l,n){return n.parse[e]&&0==n.parse[e]?console.log("wtf_tokenize."+e+"() was not called. options.parse."+e+"=false"):(i=t.parse(i,l,n),console.log("wtf_tokenize."+e+"() was called.")),i},o.parse=function(t,e,i,l){return t=this.check_call(n,"math",t,e,i),t=this.check_call(r,"citation",t,e,i),l&&(t=l(t,e,i)),t},o.html=function(t,e,i,l){return toHtml(lang,domain,i,l)},o.reveal=function(t,e,i,l){return toReveal(lang,domain,i,l)},o.latex=function(t,e,i,l){return toLatex(t,e,i,l)},o.markdown=function(t,e,i,l){return toMarkdown(t,e,i,l)},o.json=function(t,e,i,l){return toJSON(t,e,i,l)},o.version=a,console.log("wtf_tokenize - version "+a+"is loaded"),e.exports=o},{"./_version.js":10,"./lib/parseWiki":13,"./lib/setDefaults":14,"./token4citation":29,"./token4citation.js":29,"./token4math":30,"./token4math.js":30}],12:[function(t,e,i){"use strict";e.exports={capitalise:function(t){return t&&"string"==typeof t?t.charAt(0).toUpperCase()+t.slice(1):""},onlyUnique:function(t,e,i){return i.indexOf(t)===e},trim_whitespace:function(t){return t&&"string"==typeof t?t=(t=(t=(t=t.replace(/^\s\s*/,"")).replace(/\s\s*$/,"")).replace(/ {2}/," ")).replace(/\s, /,", "):""}}},{}],13:[function(t,e,i){},{}],14:[function(t,e,i){"use strict";var l=function(t,e){var i={};return e=e||{},Object.keys(e).forEach(function(t){i[t]=e[t]}),t=t||{},Object.keys(t).forEach(function(e){i[e]=t[e]}),i};e.exports={setDefaults:l,getParserOptions:function(t){return l(t,{wiki:"Undefined Wiki Content",title:"Undefined Title)",lang:"en",domain:"wikipedia",math:{isparsed:!0,tokens:[]}})}}},{}],15:[function(t,e,i){"use strict";var l={setTimeID:function(t){if(t.hasOwnProperty("timeid"))console.log("data.timeid exists!");else{console.log("data.timeid created!");var e=new Date;t.timeid=e.getTime()}},replaceString:function(t,e,i){if(t){if(""!=t){for(var l=t.indexOf(e),n="";l>=0;)l>0&&(n+=t.substring(0,l)),n+=i,l=(t=l+e.length<t.length?t.substring(l+e.length,t.length):"").indexOf(e);return n+t}}else alert("replaceString()-Call - pString not defined!")}};e.exports=l},{}],16:[function(t,e,i){"use strict";var l=t("./parsers/keyValue"),n=t("./parsers/inside"),r=t("./parsers/pipeSplit"),a=t("./parsers/pipeList"),o={wikt:"wiktionary",commons:"commons",c:"commons",commonscat:"commonscat",n:"wikinews",q:"wikiquote",s:"wikisource",a:"wikiauthor",b:"wikibooks",voy:"wikivoyage",v:"wikiversity",d:"wikidata",species:"wikispecies",m:"meta",mw:"mediawiki"},c={"book bar":a,main:function(t){return{template:"main",page:n(t).data}},wide_image:function(t){return{template:"wide_image",image:n(t).data}},"taxon info":function(t){return r(t,["taxon","item"])},uss:function(t){return r(t,["ship","id"])},citation:function(t){return{template:"citation",data:l(t)}},redirect:function(t){for(var e=a(t).data,i=[],l=1;l<e.length;l+=2)i.push({page:e[l+1],desc:e[l]});return{template:"redirect",redirect:e[0],links:i}},"cite gnis":function(t){return{template:"citation",type:"gnis",data:r(t,["id","name","type"])}},sfn:function(t){return{template:"citation",type:"sfn",data:r(t,["author","year","location"])}},audio:function(t){return r(t,["file","text","type"])},"spoken wikipedia":function(t){var e=r(t,["file","date"]);return e.template="audio",e},"sister project links":function(t){var e=l(t),i={};return Object.keys(o).forEach(function(t){!0===e.hasOwnProperty(t)&&(i[o[t]]=e[t])}),{template:"sister project links",links:i}},"subject bar":function(t){var e=l(t);return Object.keys(e).forEach(function(t){o.hasOwnProperty(t)&&(e[o[t]]=e[t],delete e[t])}),{template:"subject bar",links:e}},"short description":function(t){var e=a(t);return{template:e.template,description:e.data[0]}},"good article":function(){return{template:"Good article"}},"climate chart":function(t){var e=a(t).data,i=e[0],l=e[38];e=(e=e.slice(1)).map(function(t){return t&&"−"===t[0]&&(t=t.replace(/−/,"-")),t});for(var n=[],r=0;r<36;r+=3)n.push({low:Number(e[r]),high:Number(e[r+1]),precip:Number(e[r+2])});return{template:"climate chart",data:{title:i,source:l,months:n}}},"__throw-wtf-error":function(){throw new Error("Intentional error thrown from wtf-wikipedia!")}};c.cite=c.citation,c.sfnref=c.sfn,c.harvid=c.sfn,c.harvnb=c.sfn,c.redir=c.redirect,c.sisterlinks=c["sister project links"],e.exports=c},{"./parsers/inside":21,"./parsers/keyValue":22,"./parsers/pipeList":23,"./parsers/pipeSplit":24}],17:[function(t,e,i){"use strict";e.exports=function(t){var e=null;return(e=/^\{\{[^\n]+\|/.test(t)?(t.match(/^\{\{(.+?)\|/)||[])[1]:-1!==t.indexOf("\n")?(t.match(/^\{\{(.+?)\n/)||[])[1]:(t.match(/^\{\{(.+?)\}\}$/)||[])[1])&&(e=(e=e.replace(/:.*/,"")).trim().toLowerCase()),e||null}},{}],18:[function(t,e,i){"use strict";var l=t("./_strip"),n=t("../04-sentence").oneSentence,r=function(t){return t.map(function(t){if(t&&-1!==t.indexOf("[")){var e=n(t);return e.links()&&e.links().length>0?e.links(0).page:e.text()}return t})};e.exports=function(t){for(var e=(t=l(t)).split(/\|/g),i=0;i<e.length;i+=1){var n=e[i];!0===/\[\[[^\]]+$/.test(n)&&!0===/^[^\[]+\]\]/.test(e[i+1])&&(e[i]+="|"+e[i+1],e[i+1]=null),!0===/\{\{[^\}]+$/.test(n)&&!0===/^[^\{]+\}\}/.test(e[i+1])&&(e[i]+="|"+e[i+1],e[i+1]=null)}var a=e[0]||"";return e=e.slice(1),{name:a.trim().toLowerCase(),list:r(e)}}},{"../04-sentence":3,"./_strip":19}],19:[function(t,e,i){"use strict";e.exports=function(t){return t=(t=t.replace(/^\{\{/,"")).replace(/\}\}$/,"")}},{}],20:[function(t,e,i){"use strict";var l=t("./keyValue"),n=t("./_getName"),r=/\|.+?[a-z].+?=/;e.exports=function(t){if(r.test(t)){var e=n(t);if(null===e)return null;var i=l(t);if(i){var a={name:e,data:i},o=function(t){return/cite [a-z0-9]/.test(t)||"citation"===t.toLowerCase().trim()?"citation":null}(e);return o&&(a.template=o),a}}return null}},{"./_getName":17,"./keyValue":22}],21:[function(t,e,i){"use strict";var l=t("./_strip");e.exports=function(t){var e=(t=l(t)).split("|");if("string"!=typeof e[1])return null;e[1]=e.slice(1).join("|");var i=e[1].trim();return i=i.replace(/^[a-z0-9]{1,7}=/,""),{template:e[0].trim().toLowerCase(),data:i}}},{"./_strip":19}],22:[function(t,e,i){"use strict";var l=t("../04-sentence").oneSentence,n=t("./_strip");e.exports=function(t,e){var i=(t=n(t)).split(/\n?\|/);return i.forEach(function(t,e){i[e+1]&&(/\[\[[^\]]+$/.test(t)||/\{\{[^\}]+$/.test(t))&&(i[e+1]=i[e]+"|"+i[e+1],i[e]=null)}),(i=i.filter(function(t){return t&&-1!==t.indexOf("=")})).reduce(function(t,i){var n=i.split(/=/);n.length>2&&(n[1]=n.slice(1).join("="));var r=n[0].toLowerCase().trim(),a=n[1].trim();return""!==r&&""!==a&&(a=l(a),e?t[r]=a:(t[r]=a.text(),a.links().length>0&&(t._links=t._links||[],t._links=t._links.concat(a.links())))),t},{})}},{"../04-sentence":3,"./_strip":19}],23:[function(t,e,i){"use strict";var l=/[a-z0-9]+ *?= *?[a-z0-9]/i,n=t("./_pipes");e.exports=function(t){var e=n(t),i={template:e.name},r=e.list||[];return r.forEach(function(t,e){r[e]&&(!0===l.test(r[e])&&(r[e]=r[e].split("=")[1]),r[e]=r[e].trim())}),i.data=r,i}},{"./_pipes":18}],24:[function(t,e,i){"use strict";var l=/[a-z0-9]+ *?= *?[a-z0-9]/i,n=t("./_pipes");e.exports=function(t,e){var i=n(t),r={template:i.name},a=i.list||[];return e.forEach(function(t,i){if(a[i]){var n=a[i],o=t;if(!0===l.test(a[i])){var c=a[i].split("=");n=c[1],o=isNaN(parseInt(c[0],10))?c[0].trim().toLowerCase():e[parseInt(c[0],10)-1]}n=n.trim(),r[o]=n}}),r}},{"./_pipes":18}],25:[function(t,e,i){"use strict";var l=t("../lib/setDefaults"),n=t("./toLatex"),r=t("./toHtml"),a=t("./toJson"),o=t("./toJson"),c={},s=function(t){Object.defineProperty(this,"data",{enumerable:!1,value:t})},u={title:function(){var t=this.data;return t.title||t.encyclopedia||t.author||""},links:function(t){var e=[];if("number"==typeof t)return e[t];if("number"==typeof t)return e[t];if("string"==typeof t){t=t.charAt(0).toUpperCase()+t.substring(1);var i=e.find(function(e){return e.page===t});return void 0===i?[]:[i]}return e||[]},text:function(){return""},markdown:function(t){return t=l(t,c),a(this,t)},html:function(t){return t=l(t,c),r(this,t)},latex:function(t){return t=l(t,c),n(this,t)},json:function(t){return t=l(t,c),o(this,t)}};Object.keys(u).forEach(function(t){s.prototype[t]=u[t]}),e.exports=s},{"../lib/setDefaults":14,"./toHtml":26,"./toJson":27,"./toLatex":28}],26:[function(t,e,i){"use strict";e.exports=function(t,e){if(t.data&&t.data.url&&t.data.title){var i=t.data.title;return!0===e.links&&(i='<a href="'.concat(t.data.url,'">').concat(i,"</a>")),'<div class="reference">⌃ '.concat(i," </div>")}if(t.data.encyclopedia)return'<div class="reference">⌃ '.concat(t.data.encyclopedia,"</div>");if(t.data.title){var l=t.data.title+", ";return t.data.author&&(l+=t.data.author),t.data.first&&t.data.last&&(l+=t.data.first+" "+t.data.last),t.data.year&&(l+=", "+t.data.year),'<div class="reference">⌃ '.concat(l,"</div>")}return t.inline?'<div class="reference">⌃ '.concat(t.inline.html(),"</div>"):""}},{}],27:[function(t,e,i){"use strict";e.exports=function(t){return t.data}},{}],28:[function(t,e,i){"use strict";e.exports=function(t,e){var i="";switch(e.output.citation){case"cite":i="\\cite{"+t.label()+"}";break;case"text":i="("+t.first()+" "+t.last()+" "+t.year()+")";break;default:i="\\cite{"+t.label()+"}"}return i}},{}],29:[function(t,e,i){"use strict";var l=t("./lib/tokenlib"),n=t("./lib/helpers"),r=(l.setTimeID,l.replaceString,t("./parsers/generic")),a=t("./misc")["cite gnis"],o=t("./04-sentence/formatting"),c=(t("./reference/Reference"),function(t){return t=(t=(t=(t=(t=t.replace(cat_reg,"")).replace(/\[\[:?([^|]{1,80}?)\]\](\w{0,5})/g,"$1$2")).replace(/\[\[File:(.{2,80}?)\|([^\]]+?)\]\](\w{0,5})/g,"")).replace(/\[\[:?(.{2,80}?)\|([^\]]+?)\]\](\w{0,5})/g,"$2$3")).replace(/\[(https?|news|ftp|mailto|gopher|irc):\/\/[^\]\| ]{4,1500}([\| ].*?)?\]/g,"$2")});var s=function(t){return/^ *?\{\{ *?(cite|citation)/i.test(t)&&/\}\} *?$/.test(t)&&!1===/citation needed/i.test(t)},u=function(t){var e=r(t);return e||a(t)},_=function(t){return{template:"citation",type:"inline",data:{},inline:function(t){var e,i={text:(e=t,e=(e=(e=c(e)).replace(/\([,;: ]*\)/g,"")).replace(/\( *(; ?)+/g,"("),e=(e=n.trim_whitespace(e)).replace(/ +\.$/,"."))},l=parseLinks(t);return l&&(i.links=l),i=o(i),new Sentence(i)}(t)||{}}},h=function(t){var e=str.replace(/[^A-Za-z0-9]/g,"_");return""==(e=(e=(e=e.replace(/[_]+/g,"_")).replace(/^_/g,"")).replace(/_$/g,""))&&(e=null),e},d=function(t,e){return"___CITE_"+t.timeid+"_"+e+"___"},g=function(t,e,i,l,n){if(s(l)){var r=u(l);r&&(r.label=n,i.push(r))}else{var a=_(l);a.label=n,i.push(a)}return t},p=function(t,e,i){var l=[];return t=(t=(t=t.replace(/ ?<ref>([\s\S]{0,1000}?)<\/ref> ?/gi,function(i,n){var r=d(e,l.length);return t=g(t,0,l,n,r),r})).replace(/ ?<ref[\s]+name=["']([^"'])["'][^>]{0,200}?\/> ?/gi,function(t,i){return d(e,h())})).replace(/ ?<ref [\s]+name=["']([^"'])["'][^>]{0,200}?>([\s\S]{0,1000}?)<\/ref> ?/gi,function(i,n,r){var a=h();return a?(console.log("tokenizeRefs() created cite label='"+a+"' from name='"+n+"'"),a=d(e,a)):a=d(e,l.length),t=g(t,0,l,r,a),a}),e.refs4token=l,t},f={parse:function(t,e){return t=p(t,e)},text:function(t,e,i){return console.log("Export Math to Text not implemented yet!"),t},html:function(t,e,i){return console.log("Export Math to HTML not implemented yet!"),t},latex:function(t,e,i){return console.log("Export Math to LaTeX not implemented yet!"),t},markdown:function(t,e,i){return console.log("Export Math to MarkDown not implemented yet!"),t},json:function(t,e,i){return console.log("Export Math to JSON not implemented yet!"),t}};e.exports=f},{"./04-sentence/formatting":2,"./lib/helpers":12,"./lib/tokenlib":15,"./misc":16,"./parsers/generic":20,"./reference/Reference":25}],30:[function(t,e,i){"use strict";var l=t("./lib/tokenlib"),n=l.setTimeID,r=l.replaceString,a=function(t){var e=" undefined mathematical expression in replaceMathNewLines()-call";return t&&(e=t.replace(/\n/g," ")),e},o={parse:function(t,e,i){return console.log("CALL: tokenizeMath() - src/index.js:95 "),n(e),e.hasOwnProperty("mathexpr")?console.log("data.mathexpr array exists"):e.mathexpr=[],t=function(t,e,i){if(console.log("parseMathBlock() Time ID="+e.timeid),t){var l,n=/<math[^>]*?>(.*?)<\/math>/gi,o=0,c="";for(console.log("wikicode defined");l=n.exec(t);){o++,console.log("Math Expression "+o+": '"+l[1]+"' found"),c="___MATH_INLINE_"+e.timeid+"_ID_"+o+"___";var s=a(l[1]);e.mathexpr.push({type:"inline",label:c,math:s}),t=r(t,l[0],c)}}return t}(t=function(t,e,i){if(e.timeid,console.log("tokenizeMathBlock() Time ID="+e.timeid),t){var l,n=/\n[:]+[\s]*?<math[^>]*?>(.*?)<\/math>/gi,o=0,c="";for(console.log("wikicode defined");l=n.exec(t);){o++,console.log("Math Expression "+o+": '"+l[1]+"' found"),c="___MATH_BLOCK_"+e.timeid+"_ID_"+o+"___";var s=a(l[1]);e.mathexpr.push({type:"block",label:c,math:s}),t=r(t,l[0],c)}}return t}(t,e),e)},text:function(t,e,i){return console.log("Export Math to Text not implemented yet!"),t},html:function(t,e,i){return console.log("Export Math to HTML not implemented yet!"),t},latex:function(t,e,i){return console.log("Export Math to LaTeX not implemented yet!"),t},markdown:function(t,e,i){return console.log("Export Math to MarkDown not implemented yet!"),t},json:function(t,e,i){return console.log("Export Math to JSON not implemented yet!"),t}};e.exports=o},{"./lib/tokenlib":15}]},{},[11])(11)});
